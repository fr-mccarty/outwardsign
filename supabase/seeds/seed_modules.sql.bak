-- ============================================================
-- HOW TO RUN THIS SCRIPT
-- ============================================================
-- supabase seed
-- ============================================================

-- Comprehensive seed script to create one fully populated record for each primary module
-- This script creates sample data including people, locations, events, and all module records

-- REQUIREMENTS:
-- 1. At least one parish must exist in the database
-- 2. Initial parish data must be seeded via populateInitialParishData() or dev-seed.ts:
--    - Readings (from canonical readingsData library)
--    - Petition templates (wedding, funeral, mass, etc.)
--    - Group roles (Leader, Member, Secretary, Treasurer, Coordinator)
--    - Mass roles (Lector, Usher, Server, Sacristan, Eucharistic Minister, etc.)
--
-- This script:
-- - SELECTS from existing readings (does not create them)
-- - Creates sample people, locations, and events
-- - Creates sample module records (weddings, funerals, baptisms, etc.)
-- - Does NOT create group_roles or mass_roles (handled by onboarding)
--
-- If requirements are not met, this script will fail or modules will have null readings

DO $$
DECLARE
  v_parish_id UUID;

  -- People IDs
  v_bride_id UUID;
  v_groom_id UUID;
  v_bride_2_id UUID;
  v_groom_2_id UUID;
  v_deceased_id UUID;
  v_family_contact_id UUID;
  v_quinceanera_person_id UUID;
  v_child_baptism_id UUID;
  v_child_presentation_id UUID;
  v_mother_id UUID;
  v_father_id UUID;
  v_sponsor_1_id UUID;
  v_sponsor_2_id UUID;
  v_presider_id UUID;
  v_homilist_id UUID;
  v_coordinator_id UUID;
  v_lead_musician_id UUID;
  v_cantor_id UUID;
  v_first_reader_id UUID;
  v_second_reader_id UUID;
  v_psalm_reader_id UUID;
  v_gospel_reader_id UUID;
  v_petition_reader_id UUID;
  v_witness_1_id UUID;
  v_witness_2_id UUID;
  v_responsible_party_id UUID;
  v_requested_by_id UUID;

  -- Location IDs
  v_church_location_id UUID;
  v_reception_hall_id UUID;
  v_funeral_home_id UUID;

  -- Event IDs (general parish events)
  v_general_event_1_id UUID;
  v_general_event_2_id UUID;
  v_general_event_3_id UUID;
  v_general_event_4_id UUID;
  v_general_event_5_id UUID;
  v_general_event_6_id UUID;

  -- Event Type IDs
  v_other_event_type_id UUID;

  -- Reading IDs
  v_first_reading_marriage_id UUID;
  v_psalm_marriage_id UUID;
  v_second_reading_marriage_id UUID;
  v_gospel_marriage_id UUID;
  v_first_reading_funeral_id UUID;
  v_psalm_funeral_id UUID;
  v_gospel_funeral_id UUID;
  v_first_reading_baptism_id UUID;
  v_psalm_baptism_id UUID;
  v_second_reading_baptism_id UUID;
  v_gospel_baptism_id UUID;

  -- Module Record IDs (4 of each)
  v_wedding_1_id UUID;
  v_wedding_2_id UUID;
  v_wedding_3_id UUID;
  v_wedding_4_id UUID;
  v_funeral_1_id UUID;
  v_funeral_2_id UUID;
  v_funeral_3_id UUID;
  v_funeral_4_id UUID;
  v_quinceanera_1_id UUID;
  v_quinceanera_2_id UUID;
  v_quinceanera_3_id UUID;
  v_quinceanera_4_id UUID;
  v_baptism_1_id UUID;
  v_baptism_2_id UUID;
  v_baptism_3_id UUID;
  v_baptism_4_id UUID;
  v_presentation_1_id UUID;
  v_presentation_2_id UUID;
  v_presentation_3_id UUID;
  v_presentation_4_id UUID;
  v_mass_1_id UUID;
  v_mass_2_id UUID;
  v_mass_3_id UUID;
  v_mass_4_id UUID;

  -- Event IDs for module records
  v_wedding_1_event_id UUID;
  v_wedding_2_event_id UUID;
  v_wedding_3_event_id UUID;
  v_wedding_4_event_id UUID;
  v_funeral_1_event_id UUID;
  v_funeral_2_event_id UUID;
  v_funeral_3_event_id UUID;
  v_funeral_4_event_id UUID;
  v_quinceanera_1_event_id UUID;
  v_quinceanera_2_event_id UUID;
  v_quinceanera_3_event_id UUID;
  v_quinceanera_4_event_id UUID;
  v_baptism_1_event_id UUID;
  v_baptism_2_event_id UUID;
  v_baptism_3_event_id UUID;
  v_baptism_4_event_id UUID;
  v_presentation_1_event_id UUID;
  v_presentation_2_event_id UUID;
  v_presentation_3_event_id UUID;
  v_presentation_4_event_id UUID;
  v_mass_1_event_id UUID;
  v_mass_2_event_id UUID;
  v_mass_3_event_id UUID;
  v_mass_4_event_id UUID;

  -- Global liturgical event ID (for mass)
  v_liturgical_event_id UUID;

  -- Mass Intention ID
  v_mass_intention_id UUID;

BEGIN
  -- Get the first parish in the database
  SELECT id INTO v_parish_id FROM parishes LIMIT 1;

  IF v_parish_id IS NULL THEN
    RAISE EXCEPTION 'No parish found. Please create a parish before running this seed script.';
  END IF;

  RAISE NOTICE 'Using parish_id: %', v_parish_id;

  -- ============================================================
  -- PEOPLE: Create all people needed for the modules
  -- ============================================================

  -- Bride
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Maria',
    'Rodriguez',
    '(555) 123-4567',
    'maria.rodriguez@example.com',
    '123 Oak Street',
    'Springfield',
    'IL',
    '62701',
    'Female',
    'Bride for sample wedding'
  ) RETURNING id INTO v_bride_id;

  -- Groom
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'James',
    'Smith',
    '(555) 234-5678',
    'james.smith@example.com',
    '456 Maple Avenue',
    'Springfield',
    'IL',
    '62702',
    'Male',
    'Groom for sample wedding'
  ) RETURNING id INTO v_groom_id;

  -- Bride 2
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Emily',
    'Anderson',
    '(555) 345-6780',
    'emily.anderson@example.com',
    '789 Cedar Street',
    'Springfield',
    'IL',
    '62710',
    'Female',
    'Second bride for sample wedding'
  ) RETURNING id INTO v_bride_2_id;

  -- Groom 2
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Michael',
    'Chen',
    '(555) 456-7891',
    'michael.chen@example.com',
    '890 Willow Drive',
    'Springfield',
    'IL',
    '62711',
    'Male',
    'Second groom for sample wedding'
  ) RETURNING id INTO v_groom_2_id;

  -- Deceased
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Margaret',
    'Johnson',
    '(555) 345-6789',
    'margaret.johnson@example.com',
    '789 Pine Road',
    'Springfield',
    'IL',
    '62703',
    'Female',
    'Deceased for sample funeral'
  ) RETURNING id INTO v_deceased_id;

  -- Family Contact
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Robert',
    'Johnson',
    '(555) 456-7890',
    'robert.johnson@example.com',
    '789 Pine Road',
    'Springfield',
    'IL',
    '62703',
    'Male',
    'Family contact for sample funeral'
  ) RETURNING id INTO v_family_contact_id;

  -- Quinceanera Person
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Isabella',
    'Garcia',
    '(555) 567-8901',
    'isabella.garcia@example.com',
    '321 Elm Street',
    'Springfield',
    'IL',
    '62704',
    'Female',
    'Quinceañera for sample celebration'
  ) RETURNING id INTO v_quinceanera_person_id;

  -- Child for Baptism
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Sofia',
    'Martinez',
    NULL,
    NULL,
    '654 Birch Lane',
    'Springfield',
    'IL',
    '62705',
    'Female',
    'Child for sample baptism'
  ) RETURNING id INTO v_child_baptism_id;

  -- Child for Presentation
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Miguel',
    'Lopez',
    NULL,
    NULL,
    '987 Cedar Court',
    'Springfield',
    'IL',
    '62706',
    'Male',
    'Child for sample presentation'
  ) RETURNING id INTO v_child_presentation_id;

  -- Mother
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Carmen',
    'Martinez',
    '(555) 678-9012',
    'carmen.martinez@example.com',
    '654 Birch Lane',
    'Springfield',
    'IL',
    '62705',
    'Female',
    'Mother for sample baptism and presentation'
  ) RETURNING id INTO v_mother_id;

  -- Father
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Carlos',
    'Martinez',
    '(555) 789-0123',
    'carlos.martinez@example.com',
    '654 Birch Lane',
    'Springfield',
    'IL',
    '62705',
    'Male',
    'Father for sample baptism and presentation'
  ) RETURNING id INTO v_father_id;

  -- Sponsor 1 (Godparent)
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Teresa',
    'Hernandez',
    '(555) 890-1234',
    'teresa.hernandez@example.com',
    '147 Spruce Drive',
    'Springfield',
    'IL',
    '62707',
    'Female',
    'Godmother for sample baptism'
  ) RETURNING id INTO v_sponsor_1_id;

  -- Sponsor 2 (Godparent)
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Antonio',
    'Fernandez',
    '(555) 901-2345',
    'antonio.fernandez@example.com',
    '258 Willow Way',
    'Springfield',
    'IL',
    '62708',
    'Male',
    'Godfather for sample baptism'
  ) RETURNING id INTO v_sponsor_2_id;

  -- Presider (Priest)
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Father John',
    'O''Brien',
    '(555) 012-3456',
    'fr.john@stmarysparish.org',
    '100 Church Street',
    'Springfield',
    'IL',
    '62709',
    'Male',
    'Parish priest and presider'
  ) RETURNING id INTO v_presider_id;

  -- Homilist (Deacon)
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Deacon Michael',
    'Thompson',
    '(555) 123-4560',
    'dcn.michael@stmarysparish.org',
    '100 Church Street',
    'Springfield',
    'IL',
    '62709',
    'Male',
    'Deacon and homilist'
  ) RETURNING id INTO v_homilist_id;

  -- Coordinator
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Sarah',
    'Williams',
    '(555) 234-5601',
    'sarah.williams@stmarysparish.org',
    '100 Church Street',
    'Springfield',
    'IL',
    '62709',
    'Female',
    'Wedding and liturgy coordinator'
  ) RETURNING id INTO v_coordinator_id;

  -- Lead Musician
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'David',
    'Anderson',
    '(555) 345-6012',
    'david.anderson@example.com',
    '369 Harmony Lane',
    'Springfield',
    'IL',
    '62710',
    'Male',
    'Music director and organist'
  ) RETURNING id INTO v_lead_musician_id;

  -- Cantor
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Jennifer',
    'Brown',
    '(555) 456-0123',
    'jennifer.brown@example.com',
    '741 Melody Street',
    'Springfield',
    'IL',
    '62711',
    'Female',
    'Parish cantor and soloist'
  ) RETURNING id INTO v_cantor_id;

  -- First Reader
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Thomas',
    'Davis',
    '(555) 567-0134',
    'thomas.davis@example.com',
    '852 Scripture Road',
    'Springfield',
    'IL',
    '62712',
    'Male',
    'First reading lector'
  ) RETURNING id INTO v_first_reader_id;

  -- Second Reader
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Patricia',
    'Miller',
    '(555) 678-0145',
    'patricia.miller@example.com',
    '963 Word Avenue',
    'Springfield',
    'IL',
    '62713',
    'Female',
    'Second reading lector'
  ) RETURNING id INTO v_second_reader_id;

  -- Psalm Reader
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Christopher',
    'Wilson',
    '(555) 789-0156',
    'christopher.wilson@example.com',
    '159 Psalter Place',
    'Springfield',
    'IL',
    '62714',
    'Male',
    'Psalm lector'
  ) RETURNING id INTO v_psalm_reader_id;

  -- Gospel Reader (same as presider for this sample)
  v_gospel_reader_id := v_presider_id;

  -- Petition Reader
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Mary',
    'Moore',
    '(555) 890-0167',
    'mary.moore@example.com',
    '357 Prayer Path',
    'Springfield',
    'IL',
    '62715',
    'Female',
    'Petition reader'
  ) RETURNING id INTO v_petition_reader_id;

  -- Witness 1
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Daniel',
    'Taylor',
    '(555) 901-0178',
    'daniel.taylor@example.com',
    '753 Witness Way',
    'Springfield',
    'IL',
    '62716',
    'Male',
    'Best man and witness'
  ) RETURNING id INTO v_witness_1_id;

  -- Witness 2
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Emily',
    'Jackson',
    '(555) 012-0189',
    'emily.jackson@example.com',
    '951 Vow Street',
    'Springfield',
    'IL',
    '62717',
    'Female',
    'Maid of honor and witness'
  ) RETURNING id INTO v_witness_2_id;

  -- Responsible Party for Events
  v_responsible_party_id := v_coordinator_id;

  -- Requested By (for Mass Intention)
  INSERT INTO people (parish_id, first_name, last_name, phone_number, email, street, city, state, zipcode, sex, note)
  VALUES (
    v_parish_id,
    'Margaret',
    'White',
    '(555) 123-0190',
    'margaret.white@example.com',
    '135 Intention Avenue',
    'Springfield',
    'IL',
    '62718',
    'Female',
    'Requested mass intention for deceased husband'
  ) RETURNING id INTO v_requested_by_id;

  RAISE NOTICE 'Created % people', 27;

  -- ============================================================
  -- LOCATIONS: Create locations for events
  -- ============================================================

  -- Main Church
  INSERT INTO locations (parish_id, name, description, street, city, state, country, phone_number)
  VALUES (
    v_parish_id,
    'St. Mary''s Catholic Church',
    'Main parish church and worship space',
    '100 Church Street',
    'Springfield',
    'IL',
    'USA',
    '(555) 100-2000'
  ) RETURNING id INTO v_church_location_id;

  -- Reception Hall
  INSERT INTO locations (parish_id, name, description, street, city, state, country, phone_number)
  VALUES (
    v_parish_id,
    'Parish Hall',
    'Parish event center and reception hall',
    '102 Church Street',
    'Springfield',
    'IL',
    'USA',
    '(555) 100-2001'
  ) RETURNING id INTO v_reception_hall_id;

  -- Funeral Home
  INSERT INTO locations (parish_id, name, description, street, city, state, country, phone_number)
  VALUES (
    v_parish_id,
    'Springfield Funeral Home',
    'Local funeral home for vigil services',
    '500 Memorial Drive',
    'Springfield',
    'IL',
    'USA',
    '(555) 200-3000'
  ) RETURNING id INTO v_funeral_home_id;

  RAISE NOTICE 'Created % locations', 3;

  -- ============================================================
  -- NOTE: Group roles and mass roles are created by populateInitialParishData()
  -- during onboarding, not in this seed file to avoid duplication.
  -- ============================================================

  -- ============================================================
  -- EVENTS: Create general parish events (NOT module-specific)
  -- NOTE: Module-specific events (weddings, funerals, masses, etc.)
  -- are created with their module records below
  -- ============================================================

  -- Get "Other" event type ID for general events
  SELECT id INTO v_other_event_type_id FROM event_types WHERE parish_id = v_parish_id AND name = 'Other' LIMIT 1;

  -- Zumba Class
  INSERT INTO events (
    parish_id, name, description, responsible_party_id, event_type_id,
    start_date, start_time, end_date, end_time, timezone, is_all_day,
    location_id, language, note
  ) VALUES (
    v_parish_id,
    'Zumba Fitness Class',
    'Weekly Zumba class for all ages and fitness levels',
    v_coordinator_id,
    v_other_event_type_id,
    CURRENT_DATE + 2,
    '18:00:00',
    CURRENT_DATE + 2,
    '19:00:00',
    'America/Chicago',
    false,
    v_reception_hall_id,
    'ENGLISH',
    'Bring comfortable shoes and water bottle. All levels welcome!'
  ) RETURNING id INTO v_general_event_1_id;

  -- Staff Meeting
  INSERT INTO events (
    parish_id, name, description, responsible_party_id, event_type,
    start_date, start_time, end_date, end_time, timezone, is_all_day,
    location_id, language, note
  ) VALUES (
    v_parish_id,
    'Parish Staff Meeting',
    'Monthly meeting for all parish staff members',
    v_coordinator_id,
    'MEETING',
    CURRENT_DATE + 5,
    '10:00:00',
    CURRENT_DATE + 5,
    '12:00:00',
    'America/Chicago',
    false,
    v_reception_hall_id,
    'ENGLISH',
    'Agenda: Budget review, upcoming events, facility updates'
  ) RETURNING id INTO v_general_event_2_id;

  -- Staff Birthday Celebration
  INSERT INTO events (
    parish_id, name, description, responsible_party_id, event_type,
    start_date, start_time, end_date, end_time, timezone, is_all_day,
    location_id, language, note
  ) VALUES (
    v_parish_id,
    'Father John''s Birthday Celebration',
    'Birthday party for our beloved pastor',
    v_coordinator_id,
    'OTHER',
    CURRENT_DATE + 8,
    '13:00:00',
    CURRENT_DATE + 8,
    '15:00:00',
    'America/Chicago',
    false,
    v_reception_hall_id,
    'ENGLISH',
    'Potluck lunch. Bring a dish to share!'
  ) RETURNING id INTO v_general_event_3_id;

  -- Volunteer Appreciation Dinner
  INSERT INTO events (
    parish_id, name, description, responsible_party_id, event_type,
    start_date, start_time, end_date, end_time, timezone, is_all_day,
    location_id, language, note
  ) VALUES (
    v_parish_id,
    'Volunteer Appreciation Dinner',
    'Annual dinner to thank all parish volunteers',
    v_coordinator_id,
    'DINNER',
    CURRENT_DATE + 10,
    '18:30:00',
    CURRENT_DATE + 10,
    '21:00:00',
    'America/Chicago',
    false,
    v_reception_hall_id,
    'ENGLISH',
    'Celebrating our amazing volunteers! Dinner provided.'
  ) RETURNING id INTO v_general_event_4_id;

  -- Youth Group Meeting
  INSERT INTO events (
    parish_id, name, description, responsible_party_id, event_type,
    start_date, start_time, end_date, end_time, timezone, is_all_day,
    location_id, language, note
  ) VALUES (
    v_parish_id,
    'Youth Group Meeting',
    'Weekly youth group gathering for high school students',
    v_coordinator_id,
    'MEETING',
    CURRENT_DATE + 3,
    '19:00:00',
    CURRENT_DATE + 3,
    '21:00:00',
    'America/Chicago',
    false,
    v_reception_hall_id,
    'ENGLISH',
    'Pizza and faith sharing. All teens welcome!'
  ) RETURNING id INTO v_general_event_5_id;

  -- Bible Study Group
  INSERT INTO events (
    parish_id, name, description, responsible_party_id, event_type,
    start_date, start_time, end_date, end_time, timezone, is_all_day,
    location_id, language, note
  ) VALUES (
    v_parish_id,
    'Wednesday Evening Bible Study',
    'Weekly Scripture study and discussion',
    v_coordinator_id,
    'MEETING',
    CURRENT_DATE + 6,
    '19:30:00',
    CURRENT_DATE + 6,
    '21:00:00',
    'America/Chicago',
    false,
    v_reception_hall_id,
    'ENGLISH',
    'Studying the Gospel of John. Bring your Bible!'
  ) RETURNING id INTO v_general_event_6_id;

  RAISE NOTICE 'Created % general parish events (module events created with module records)', 6;

  -- ============================================================
  -- READINGS: Select from existing readings seeded by onboarding
  -- NOTE: Readings are seeded via populateInitialParishData() from
  -- the canonical readingsData library during onboarding/setup.
  -- This script assumes those readings already exist in the database.
  -- ============================================================

  -- Select wedding readings from existing readings
  SELECT id INTO v_first_reading_marriage_id
  FROM readings
  WHERE parish_id = v_parish_id
    AND 'WEDDING' = ANY(categories)
    AND 'FIRST_READING' = ANY(categories)
    AND language = 'ENGLISH'
  LIMIT 1;

  SELECT id INTO v_psalm_marriage_id
  FROM readings
  WHERE parish_id = v_parish_id
    AND 'WEDDING' = ANY(categories)
    AND 'PSALM' = ANY(categories)
    AND language = 'ENGLISH'
  LIMIT 1;

  SELECT id INTO v_second_reading_marriage_id
  FROM readings
  WHERE parish_id = v_parish_id
    AND 'WEDDING' = ANY(categories)
    AND 'SECOND_READING' = ANY(categories)
    AND language = 'ENGLISH'
  LIMIT 1;

  SELECT id INTO v_gospel_marriage_id
  FROM readings
  WHERE parish_id = v_parish_id
    AND 'WEDDING' = ANY(categories)
    AND 'GOSPEL' = ANY(categories)
    AND language = 'ENGLISH'
  LIMIT 1;

  -- Select funeral readings from existing readings
  SELECT id INTO v_first_reading_funeral_id
  FROM readings
  WHERE parish_id = v_parish_id
    AND 'FUNERAL' = ANY(categories)
    AND 'FIRST_READING' = ANY(categories)
    AND language = 'ENGLISH'
  LIMIT 1;

  SELECT id INTO v_psalm_funeral_id
  FROM readings
  WHERE parish_id = v_parish_id
    AND 'FUNERAL' = ANY(categories)
    AND 'PSALM' = ANY(categories)
    AND language = 'ENGLISH'
  LIMIT 1;

  SELECT id INTO v_gospel_funeral_id
  FROM readings
  WHERE parish_id = v_parish_id
    AND 'FUNERAL' = ANY(categories)
    AND 'GOSPEL' = ANY(categories)
    AND language = 'ENGLISH'
  LIMIT 1;

  -- Select baptism readings from existing readings
  SELECT id INTO v_first_reading_baptism_id
  FROM readings
  WHERE parish_id = v_parish_id
    AND 'BAPTISM' = ANY(categories)
    AND 'FIRST_READING' = ANY(categories)
    AND language = 'ENGLISH'
  LIMIT 1;

  SELECT id INTO v_psalm_baptism_id
  FROM readings
  WHERE parish_id = v_parish_id
    AND 'BAPTISM' = ANY(categories)
    AND 'PSALM' = ANY(categories)
    AND language = 'ENGLISH'
  LIMIT 1;

  SELECT id INTO v_second_reading_baptism_id
  FROM readings
  WHERE parish_id = v_parish_id
    AND 'BAPTISM' = ANY(categories)
    AND 'SECOND_READING' = ANY(categories)
    AND language = 'ENGLISH'
  LIMIT 1;

  SELECT id INTO v_gospel_baptism_id
  FROM readings
  WHERE parish_id = v_parish_id
    AND 'BAPTISM' = ANY(categories)
    AND 'GOSPEL' = ANY(categories)
    AND language = 'ENGLISH'
  LIMIT 1;

  -- Log selected readings (or warn if none found)
  IF v_first_reading_marriage_id IS NOT NULL THEN
    RAISE NOTICE 'Selected readings from existing parish readings';
  ELSE
    RAISE WARNING 'No readings found for parish. Run onboarding setup or seed readings first.';
  END IF;


  -- ============================================================
  -- WEDDING EVENTS: Create events for 4 wedding records
  -- ============================================================

  -- Wedding 1 Events
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Rodriguez-Smith Wedding Ceremony', 'Wedding of Maria Rodriguez and James Smith', v_coordinator_id, 'WEDDING', CURRENT_DATE + 7, '14:00:00', CURRENT_DATE + 7, '15:30:00', 'America/Chicago', false, v_church_location_id, 'ENGLISH', 'Saturday afternoon wedding')
  RETURNING id INTO v_wedding_1_event_id;

  -- Wedding 2 Events
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Anderson-Chen Wedding Ceremony', 'Wedding of Emily Anderson and Michael Chen', v_coordinator_id, 'WEDDING', CURRENT_DATE + 14, '15:00:00', CURRENT_DATE + 14, '16:30:00', 'America/Chicago', false, v_church_location_id, 'ENGLISH', 'Sunday afternoon wedding')
  RETURNING id INTO v_wedding_2_event_id;

  -- Wedding 3 Events
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Thompson-Garcia Wedding Ceremony', 'Wedding of Sarah Thompson and Carlos Garcia', v_coordinator_id, 'WEDDING', CURRENT_DATE + 21, '16:00:00', CURRENT_DATE + 21, '17:30:00', 'America/Chicago', false, v_church_location_id, 'ENGLISH', 'Late afternoon wedding')
  RETURNING id INTO v_wedding_3_event_id;

  -- Wedding 4 Events
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Wilson-Martinez Wedding Ceremony', 'Wedding of Jennifer Wilson and Diego Martinez', v_coordinator_id, 'WEDDING', CURRENT_DATE + 28, '13:00:00', CURRENT_DATE + 28, '14:30:00', 'America/Chicago', false, v_church_location_id, 'SPANISH', 'Early afternoon bilingual wedding')
  RETURNING id INTO v_wedding_4_event_id;

  -- ============================================================
  -- FUNERAL EVENTS: Create events for 4 funeral records
  -- ============================================================

  -- Funeral 1 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Funeral Mass for Margaret Johnson', 'Mass of Christian Burial', v_coordinator_id, 'FUNERAL', CURRENT_DATE + 3, '10:00:00', CURRENT_DATE + 3, '11:30:00', 'America/Chicago', false, v_church_location_id, 'ENGLISH', 'Morning funeral mass')
  RETURNING id INTO v_funeral_1_event_id;

  -- Funeral 2 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Funeral Mass for Robert Williams', 'Mass of Christian Burial', v_coordinator_id, 'FUNERAL', CURRENT_DATE + 10, '11:00:00', CURRENT_DATE + 10, '12:30:00', 'America/Chicago', false, v_church_location_id, 'ENGLISH', 'Late morning funeral mass')
  RETURNING id INTO v_funeral_2_event_id;

  -- Funeral 3 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Funeral Mass for Patricia Davis', 'Mass of Christian Burial', v_coordinator_id, 'FUNERAL', CURRENT_DATE + 17, '09:00:00', CURRENT_DATE + 17, '10:30:00', 'America/Chicago', false, v_church_location_id, 'ENGLISH', 'Early morning funeral mass')
  RETURNING id INTO v_funeral_3_event_id;

  -- Funeral 4 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Misa de Funeral para José Ramirez', 'Misa de Cuerpo Presente', v_coordinator_id, 'FUNERAL', CURRENT_DATE + 24, '10:30:00', CURRENT_DATE + 24, '12:00:00', 'America/Chicago', false, v_church_location_id, 'SPANISH', 'Misa funeral en español')
  RETURNING id INTO v_funeral_4_event_id;

  -- ============================================================
  -- QUINCEANERA EVENTS: Create events for 4 quinceanera records
  -- ============================================================

  -- Quinceanera 1 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Quinceañera para Isabella Garcia', 'Misa de Quinceañera', v_coordinator_id, 'QUINCEANERA', CURRENT_DATE + 9, '11:00:00', CURRENT_DATE + 9, '12:30:00', 'America/Chicago', false, v_church_location_id, 'SPANISH', 'Quinceañera mass celebration')
  RETURNING id INTO v_quinceanera_1_event_id;

  -- Quinceanera 2 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Quinceañera para Maria Sanchez', 'Misa de Quinceañera', v_coordinator_id, 'QUINCEANERA', CURRENT_DATE + 16, '10:00:00', CURRENT_DATE + 16, '11:30:00', 'America/Chicago', false, v_church_location_id, 'SPANISH', 'Misa de quinceañera')
  RETURNING id INTO v_quinceanera_2_event_id;

  -- Quinceanera 3 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Quinceañera para Sofia Lopez', 'Misa de Quinceañera', v_coordinator_id, 'QUINCEANERA', CURRENT_DATE + 23, '12:00:00', CURRENT_DATE + 23, '13:30:00', 'America/Chicago', false, v_church_location_id, 'SPANISH', 'Quinceañera celebration mass')
  RETURNING id INTO v_quinceanera_3_event_id;

  -- Quinceanera 4 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Quinceañera para Ana Ramirez', 'Misa de Quinceañera', v_coordinator_id, 'QUINCEANERA', CURRENT_DATE + 30, '13:00:00', CURRENT_DATE + 30, '14:30:00', 'America/Chicago', false, v_church_location_id, 'SPANISH', 'Afternoon quinceañera mass')
  RETURNING id INTO v_quinceanera_4_event_id;

  -- ============================================================
  -- BAPTISM EVENTS: Create events for 4 baptism records
  -- ============================================================

  -- Baptism 1 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Baptism of Sofia Martinez', 'Sacrament of Baptism', v_coordinator_id, 'BAPTISM', CURRENT_DATE + 4, '13:00:00', CURRENT_DATE + 4, '14:00:00', 'America/Chicago', false, v_church_location_id, 'ENGLISH', 'Sunday afternoon baptism')
  RETURNING id INTO v_baptism_1_event_id;

  -- Baptism 2 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Baptism of Lucas Thompson', 'Sacrament of Baptism', v_coordinator_id, 'BAPTISM', CURRENT_DATE + 11, '14:00:00', CURRENT_DATE + 11, '15:00:00', 'America/Chicago', false, v_church_location_id, 'ENGLISH', 'Sunday afternoon baptism')
  RETURNING id INTO v_baptism_2_event_id;

  -- Baptism 3 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Bautismo de Miguel Angel Lopez', 'Sacramento del Bautismo', v_coordinator_id, 'BAPTISM', CURRENT_DATE + 18, '12:00:00', CURRENT_DATE + 18, '13:00:00', 'America/Chicago', false, v_church_location_id, 'SPANISH', 'Bautismo dominical')
  RETURNING id INTO v_baptism_3_event_id;

  -- Baptism 4 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Baptism of Emma Johnson', 'Sacrament of Baptism', v_coordinator_id, 'BAPTISM', CURRENT_DATE + 25, '13:30:00', CURRENT_DATE + 25, '14:30:00', 'America/Chicago', false, v_church_location_id, 'ENGLISH', 'Sunday baptism ceremony')
  RETURNING id INTO v_baptism_4_event_id;

  -- ============================================================
  -- PRESENTATION EVENTS: Create events for 4 presentation records
  -- ============================================================

  -- Presentation 1 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Presentación de Miguel Lopez', 'Presentation of the Child at the Temple', v_coordinator_id, 'PRESENTATION', CURRENT_DATE + 5, '12:00:00', CURRENT_DATE + 5, '13:00:00', 'America/Chicago', false, v_church_location_id, 'SPANISH', 'Presentación del niño')
  RETURNING id INTO v_presentation_1_event_id;

  -- Presentation 2 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Presentación de Ana Ramirez', 'Presentation of the Child', v_coordinator_id, 'PRESENTATION', CURRENT_DATE + 12, '11:00:00', CURRENT_DATE + 12, '12:00:00', 'America/Chicago', false, v_church_location_id, 'SPANISH', 'Presentación de la niña')
  RETURNING id INTO v_presentation_2_event_id;

  -- Presentation 3 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Presentación de Carlos Sanchez', 'Presentation of the Child', v_coordinator_id, 'PRESENTATION', CURRENT_DATE + 19, '13:00:00', CURRENT_DATE + 19, '14:00:00', 'America/Chicago', false, v_church_location_id, 'SPANISH', 'Presentación del niño en el templo')
  RETURNING id INTO v_presentation_3_event_id;

  -- Presentation 4 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Presentación de Elena Rodriguez', 'Presentation of the Child', v_coordinator_id, 'PRESENTATION', CURRENT_DATE + 26, '12:30:00', CURRENT_DATE + 26, '13:30:00', 'America/Chicago', false, v_church_location_id, 'SPANISH', 'Presentación de la niña')
  RETURNING id INTO v_presentation_4_event_id;

  -- ============================================================
  -- MASS EVENTS: Create events for 4 mass records
  -- ============================================================

  -- Mass 1 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Sunday Mass - 10:00 AM', 'Sunday morning Mass', v_coordinator_id, 'MASS', CURRENT_DATE + 6, '10:00:00', CURRENT_DATE + 6, '11:15:00', 'America/Chicago', false, v_church_location_id, 'ENGLISH', 'Sunday morning liturgy')
  RETURNING id INTO v_mass_1_event_id;

  -- Mass 2 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Sunday Mass - 8:00 AM', 'Early morning Sunday Mass', v_coordinator_id, 'MASS', CURRENT_DATE + 13, '08:00:00', CURRENT_DATE + 13, '09:15:00', 'America/Chicago', false, v_church_location_id, 'ENGLISH', 'Early morning liturgy')
  RETURNING id INTO v_mass_2_event_id;

  -- Mass 3 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Misa Dominical - 12:00 PM', 'Misa de Domingo en Español', v_coordinator_id, 'MASS', CURRENT_DATE + 20, '12:00:00', CURRENT_DATE + 20, '13:15:00', 'America/Chicago', false, v_church_location_id, 'SPANISH', 'Misa dominical en español')
  RETURNING id INTO v_mass_3_event_id;

  -- Mass 4 Event
  INSERT INTO events (parish_id, name, description, responsible_party_id, event_type, start_date, start_time, end_date, end_time, timezone, is_all_day, location_id, language, note)
  VALUES (v_parish_id, 'Weekday Mass - Wednesday', 'Weekday morning Mass', v_coordinator_id, 'MASS', CURRENT_DATE + 8, '07:00:00', CURRENT_DATE + 8, '07:45:00', 'America/Chicago', false, v_church_location_id, 'ENGLISH', 'Weekday morning liturgy')
  RETURNING id INTO v_mass_4_event_id;

  RAISE NOTICE 'Created % module-specific events', 24;

  -- ============================================================
  -- Get a liturgical event for mass (if available)
  -- ============================================================

  SELECT id INTO v_liturgical_event_id
  FROM global_liturgical_events
  WHERE date >= CURRENT_DATE
  ORDER BY date ASC
  LIMIT 1;

  -- ============================================================
  -- WEDDINGS: Create 4 fully populated wedding records
  -- ============================================================

  -- Wedding 1: Rodriguez-Smith
  INSERT INTO weddings (
    parish_id, wedding_event_id, bride_id, groom_id, coordinator_id, presider_id, homilist_id,
    lead_musician_id, cantor_id, status, wedding_template_id, first_reading_id, psalm_id,
    psalm_reader_id, psalm_is_sung, second_reading_id, gospel_reading_id, gospel_reader_id,
    first_reader_id, second_reader_id, petitions_read_by_second_reader, petition_reader_id,
    petitions, announcements, notes
  ) VALUES (
    v_parish_id, v_wedding_1_event_id, v_bride_id, v_groom_id, v_coordinator_id, v_presider_id,
    v_homilist_id, v_lead_musician_id, v_cantor_id, 'ACTIVE', 'full-script-english',
    v_first_reading_marriage_id, v_psalm_marriage_id, v_psalm_reader_id, true,
    v_second_reading_marriage_id, v_gospel_marriage_id, v_gospel_reader_id, v_first_reader_id,
    v_second_reader_id, false, v_petition_reader_id,
    E'For the Church, that she may continue to be a sign of God''s love, we pray to the Lord.\n\nFor Maria and James, that they may grow in love and faithfulness, we pray to the Lord.',
    E'Please join us for a reception at the Parish Hall.\n\nPhotography permitted during ceremony.',
    'Summer wedding. Traditional hymns. Photographer present.'
  ) RETURNING id INTO v_wedding_1_id;

  -- Wedding 2: Anderson-Chen
  INSERT INTO weddings (
    parish_id, wedding_event_id, bride_id, groom_id, coordinator_id, presider_id, homilist_id,
    lead_musician_id, cantor_id, status, wedding_template_id, first_reading_id, psalm_id,
    psalm_reader_id, psalm_is_sung, second_reading_id, gospel_reading_id, gospel_reader_id,
    first_reader_id, second_reader_id, petitions_read_by_second_reader, petition_reader_id,
    petitions, announcements, notes
  ) VALUES (
    v_parish_id, v_wedding_2_event_id, v_bride_2_id, v_groom_2_id, v_coordinator_id, v_presider_id,
    v_homilist_id, v_lead_musician_id, v_cantor_id, 'ACTIVE', 'full-script-english',
    v_first_reading_marriage_id, v_psalm_marriage_id, v_psalm_reader_id, true,
    v_second_reading_marriage_id, v_gospel_marriage_id, v_gospel_reader_id, v_first_reader_id,
    v_second_reader_id, false, v_petition_reader_id,
    E'For Emily and Michael, that they may build their marriage on faith and love, we pray to the Lord.',
    E'Reception to follow in the Parish Hall.',
    'Contemporary wedding with modern music selections.'
  ) RETURNING id INTO v_wedding_2_id;

  -- Wedding 3: Thompson-Garcia
  INSERT INTO weddings (
    parish_id, wedding_event_id, bride_id, groom_id, coordinator_id, presider_id, homilist_id,
    lead_musician_id, cantor_id, status, wedding_template_id, first_reading_id, psalm_id,
    psalm_reader_id, psalm_is_sung, second_reading_id, gospel_reading_id, gospel_reader_id,
    first_reader_id, second_reader_id, petitions_read_by_second_reader, petition_reader_id,
    petitions, announcements, notes
  ) VALUES (
    v_parish_id, v_wedding_3_event_id, v_mother_id, v_father_id, v_coordinator_id, v_presider_id,
    v_homilist_id, v_lead_musician_id, v_cantor_id, 'PLANNING', 'full-script-english',
    v_first_reading_marriage_id, v_psalm_marriage_id, v_psalm_reader_id, false,
    v_second_reading_marriage_id, v_gospel_marriage_id, v_gospel_reader_id, v_first_reader_id,
    v_second_reader_id, true, NULL,
    E'For Sarah and Carlos, united in love, we pray to the Lord.',
    E'Garden reception at the Parish Hall.',
    'Late afternoon ceremony. Bilingual elements requested.'
  ) RETURNING id INTO v_wedding_3_id;

  -- Wedding 4: Wilson-Martinez (Spanish)
  INSERT INTO weddings (
    parish_id, wedding_event_id, bride_id, groom_id, coordinator_id, presider_id, homilist_id,
    lead_musician_id, cantor_id, status, wedding_template_id, first_reading_id, psalm_id,
    psalm_reader_id, psalm_is_sung, second_reading_id, gospel_reading_id, gospel_reader_id,
    first_reader_id, second_reader_id, petitions_read_by_second_reader, petition_reader_id,
    petitions, announcements, notes
  ) VALUES (
    v_parish_id, v_wedding_4_event_id, v_sponsor_1_id, v_sponsor_2_id, v_coordinator_id, v_presider_id,
    v_homilist_id, v_lead_musician_id, v_cantor_id, 'ACTIVE', 'full-script-spanish',
    v_first_reading_marriage_id, v_psalm_marriage_id, v_psalm_reader_id, true,
    v_second_reading_marriage_id, v_gospel_marriage_id, v_gospel_reader_id, v_first_reader_id,
    v_second_reader_id, false, v_petition_reader_id,
    E'Por Jennifer y Diego, que crezcan en amor y fidelidad, oremos al Señor.',
    E'Recepción en el Salón Parroquial después de la ceremonia.',
    'Ceremonia bilingüe. Música tradicional mexicana.'
  ) RETURNING id INTO v_wedding_4_id;

  RAISE NOTICE 'Created % wedding records', 4;

  -- ============================================================
  -- FUNERALS: Create 4 fully populated funeral records
  -- ============================================================

  -- Funeral 1: Margaret Johnson
  INSERT INTO funerals (
    parish_id, funeral_event_id, deceased_id, family_contact_id, coordinator_id, presider_id,
    homilist_id, lead_musician_id, cantor_id, status, funeral_template_id, first_reading_id,
    psalm_id, psalm_reader_id, psalm_is_sung, second_reading_id, gospel_reading_id,
    gospel_reader_id, first_reader_id, second_reader_id, petitions_read_by_second_reader,
    petition_reader_id, petitions, announcements, note
  ) VALUES (
    v_parish_id, v_funeral_1_event_id, v_deceased_id, v_family_contact_id, v_coordinator_id,
    v_presider_id, v_homilist_id, v_lead_musician_id, v_cantor_id, 'ACTIVE', 'full-script-english',
    v_first_reading_funeral_id, v_psalm_funeral_id, v_psalm_reader_id, true, NULL,
    v_gospel_funeral_id, v_gospel_reader_id, v_first_reader_id, v_second_reader_id, true, NULL,
    E'For Margaret, that she may rejoice forever in the presence of God, we pray to the Lord.',
    E'Burial at Calvary Cemetery. Meal in Parish Hall. In lieu of flowers, donations to parish fund.',
    'Longtime parishioner. Traditional hymns: Amazing Grace, Be Not Afraid.'
  ) RETURNING id INTO v_funeral_1_id;

  -- Funeral 2: Robert Williams
  INSERT INTO funerals (
    parish_id, funeral_event_id, deceased_id, family_contact_id, coordinator_id, presider_id,
    homilist_id, lead_musician_id, cantor_id, status, funeral_template_id, first_reading_id,
    psalm_id, psalm_reader_id, psalm_is_sung, second_reading_id, gospel_reading_id,
    gospel_reader_id, first_reader_id, second_reader_id, petitions_read_by_second_reader,
    petition_reader_id, petitions, announcements, note
  ) VALUES (
    v_parish_id, v_funeral_2_event_id, v_bride_id, v_groom_id, v_coordinator_id,
    v_presider_id, v_homilist_id, v_lead_musician_id, v_cantor_id, 'ACTIVE', 'full-script-english',
    v_first_reading_funeral_id, v_psalm_funeral_id, v_psalm_reader_id, true, NULL,
    v_gospel_funeral_id, v_gospel_reader_id, v_first_reader_id, v_second_reader_id, false,
    v_petition_reader_id,
    E'For Robert, that he may rest in eternal peace, we pray to the Lord.',
    E'Private burial. Reception in Parish Hall.',
    'Veteran. Military honors. Family requests patriotic hymns.'
  ) RETURNING id INTO v_funeral_2_id;

  -- Funeral 3: Patricia Davis
  INSERT INTO funerals (
    parish_id, funeral_event_id, deceased_id, family_contact_id, coordinator_id, presider_id,
    homilist_id, lead_musician_id, cantor_id, status, funeral_template_id, first_reading_id,
    psalm_id, psalm_reader_id, psalm_is_sung, second_reading_id, gospel_reading_id,
    gospel_reader_id, first_reader_id, second_reader_id, petitions_read_by_second_reader,
    petition_reader_id, petitions, announcements, note
  ) VALUES (
    v_parish_id, v_funeral_3_event_id, v_mother_id, v_father_id, v_coordinator_id,
    v_presider_id, v_homilist_id, v_lead_musician_id, v_cantor_id, 'PLANNING', 'full-script-english',
    v_first_reading_funeral_id, v_psalm_funeral_id, v_psalm_reader_id, false, NULL,
    v_gospel_funeral_id, v_gospel_reader_id, v_first_reader_id, v_second_reader_id, true, NULL,
    E'For Patricia, a devoted mother and grandmother, we pray to the Lord.',
    E'Burial at St. Mary Cemetery. No meal planned.',
    'Former choir director. Contemporary music selections.'
  ) RETURNING id INTO v_funeral_3_id;

  -- Funeral 4: José Ramirez (Spanish)
  INSERT INTO funerals (
    parish_id, funeral_event_id, deceased_id, family_contact_id, coordinator_id, presider_id,
    homilist_id, lead_musician_id, cantor_id, status, funeral_template_id, first_reading_id,
    psalm_id, psalm_reader_id, psalm_is_sung, second_reading_id, gospel_reading_id,
    gospel_reader_id, first_reader_id, second_reader_id, petitions_read_by_second_reader,
    petition_reader_id, petitions, announcements, note
  ) VALUES (
    v_parish_id, v_funeral_4_event_id, v_sponsor_1_id, v_sponsor_2_id, v_coordinator_id,
    v_presider_id, v_homilist_id, v_lead_musician_id, v_cantor_id, 'ACTIVE', 'full-script-spanish',
    v_first_reading_funeral_id, v_psalm_funeral_id, v_psalm_reader_id, true, NULL,
    v_gospel_funeral_id, v_gospel_reader_id, v_first_reader_id, v_second_reader_id, false,
    v_petition_reader_id,
    E'Por José, que descanse en paz eterna, oremos al Señor.',
    E'Entierro en el Cementerio San José. Comida en el Salón Parroquial.',
    'Misa bilingüe. Música mariachi en la recepción.'
  ) RETURNING id INTO v_funeral_4_id;

  RAISE NOTICE 'Created % funeral records', 4;

  -- ============================================================
  -- QUINCEANERAS: Create 4 fully populated quinceanera records
  -- ============================================================

  -- Quinceanera 1: Isabella Garcia
  INSERT INTO quinceaneras (
    parish_id, quinceanera_event_id, quinceanera_id, family_contact_id, coordinator_id,
    presider_id, homilist_id, lead_musician_id, cantor_id, status, quinceanera_template_id,
    first_reading_id, psalm_id, psalm_reader_id, psalm_is_sung, second_reading_id,
    gospel_reading_id, gospel_reader_id, first_reader_id, second_reader_id,
    petitions_read_by_second_reader, petition_reader_id, petitions, announcements, note
  ) VALUES (
    v_parish_id, v_quinceanera_1_event_id, v_quinceanera_person_id, v_family_contact_id,
    v_coordinator_id, v_presider_id, v_homilist_id, v_lead_musician_id, v_cantor_id,
    'ACTIVE', 'full-script-spanish', v_first_reading_marriage_id, v_psalm_marriage_id,
    v_psalm_reader_id, true, v_second_reading_marriage_id, v_gospel_marriage_id,
    v_gospel_reader_id, v_first_reader_id, v_second_reader_id, false, v_petition_reader_id,
    E'Por Isabella, para que crezca en fe, esperanza y amor, roguemos al Señor.',
    E'Recepción en el Salón Parroquial después de la Misa.',
    'Quinceañera tradicional. 14 damas y 14 chambelanes.'
  ) RETURNING id INTO v_quinceanera_1_id;

  -- Quinceanera 2: Maria Sanchez
  INSERT INTO quinceaneras (
    parish_id, quinceanera_event_id, quinceanera_id, family_contact_id, coordinator_id,
    presider_id, homilist_id, lead_musician_id, cantor_id, status, quinceanera_template_id,
    first_reading_id, psalm_id, psalm_reader_id, psalm_is_sung, second_reading_id,
    gospel_reading_id, gospel_reader_id, first_reader_id, second_reader_id,
    petitions_read_by_second_reader, petition_reader_id, petitions, announcements, note
  ) VALUES (
    v_parish_id, v_quinceanera_2_event_id, v_bride_id, v_mother_id,
    v_coordinator_id, v_presider_id, v_homilist_id, v_lead_musician_id, v_cantor_id,
    'ACTIVE', 'full-script-spanish', v_first_reading_marriage_id, v_psalm_marriage_id,
    v_psalm_reader_id, true, v_second_reading_marriage_id, v_gospel_marriage_id,
    v_gospel_reader_id, v_first_reader_id, v_second_reader_id, false, v_petition_reader_id,
    E'Por Maria, que Dios la bendiga en este día especial, roguemos al Señor.',
    E'Gran fiesta en el Salón Parroquial.',
    'Música mariachi. Vals tradicional.'
  ) RETURNING id INTO v_quinceanera_2_id;

  -- Quinceanera 3: Sofia Lopez
  INSERT INTO quinceaneras (
    parish_id, quinceanera_event_id, quinceanera_id, family_contact_id, coordinator_id,
    presider_id, homilist_id, lead_musician_id, cantor_id, status, quinceanera_template_id,
    first_reading_id, psalm_id, psalm_reader_id, psalm_is_sung, second_reading_id,
    gospel_reading_id, gospel_reader_id, first_reader_id, second_reader_id,
    petitions_read_by_second_reader, petition_reader_id, petitions, announcements, note
  ) VALUES (
    v_parish_id, v_quinceanera_3_event_id, v_bride_2_id, v_father_id,
    v_coordinator_id, v_presider_id, v_homilist_id, v_lead_musician_id, v_cantor_id,
    'PLANNING', 'full-script-spanish', v_first_reading_marriage_id, v_psalm_marriage_id,
    v_psalm_reader_id, false, v_second_reading_marriage_id, v_gospel_marriage_id,
    v_gospel_reader_id, v_first_reader_id, v_second_reader_id, true, NULL,
    E'Por Sofia, en su camino de fe, oremos al Señor.',
    E'Fotografía profesional. Recepción privada.',
    'Ceremonia moderna. Música contemporánea.'
  ) RETURNING id INTO v_quinceanera_3_id;

  -- Quinceanera 4: Ana Ramirez
  INSERT INTO quinceaneras (
    parish_id, quinceanera_event_id, quinceanera_id, family_contact_id, coordinator_id,
    presider_id, homilist_id, lead_musician_id, cantor_id, status, quinceanera_template_id,
    first_reading_id, psalm_id, psalm_reader_id, psalm_is_sung, second_reading_id,
    gospel_reading_id, gospel_reader_id, first_reader_id, second_reader_id,
    petitions_read_by_second_reader, petition_reader_id, petitions, announcements, note
  ) VALUES (
    v_parish_id, v_quinceanera_4_event_id, v_groom_id, v_groom_2_id,
    v_coordinator_id, v_presider_id, v_homilist_id, v_lead_musician_id, v_cantor_id,
    'ACTIVE', 'full-script-spanish', v_first_reading_marriage_id, v_psalm_marriage_id,
    v_psalm_reader_id, true, v_second_reading_marriage_id, v_gospel_marriage_id,
    v_gospel_reader_id, v_first_reader_id, v_second_reader_id, false, v_petition_reader_id,
    E'Por Ana, que Dios la guíe siempre, oremos al Señor.',
    E'Todos invitados a la fiesta.',
    'Ceremonia elegante. Vestido rosa.'
  ) RETURNING id INTO v_quinceanera_4_id;

  RAISE NOTICE 'Created % quinceanera records', 4;

  -- ============================================================
  -- BAPTISMS: Create 4 fully populated baptism records
  -- ============================================================

  -- Baptism 1: Sofia Martinez
  INSERT INTO baptisms (parish_id, baptism_event_id, child_id, mother_id, father_id, sponsor_1_id, sponsor_2_id, presider_id, status, baptism_template_id, note)
  VALUES (v_parish_id, v_baptism_1_event_id, v_child_baptism_id, v_mother_id, v_father_id, v_sponsor_1_id, v_sponsor_2_id, v_presider_id, 'ACTIVE', 'full-script-english', 'Parents completed preparation. White gown.')
  RETURNING id INTO v_baptism_1_id;

  -- Baptism 2: Lucas Thompson
  INSERT INTO baptisms (parish_id, baptism_event_id, child_id, mother_id, father_id, sponsor_1_id, sponsor_2_id, presider_id, status, baptism_template_id, note)
  VALUES (v_parish_id, v_baptism_2_event_id, v_bride_id, v_groom_id, v_bride_2_id, v_groom_2_id, v_deceased_id, v_presider_id, 'ACTIVE', 'full-script-english', 'Family baptism. Traditional ceremony.')
  RETURNING id INTO v_baptism_2_id;

  -- Baptism 3: Miguel Angel Lopez (Spanish)
  INSERT INTO baptisms (parish_id, baptism_event_id, child_id, mother_id, father_id, sponsor_1_id, sponsor_2_id, presider_id, status, baptism_template_id, note)
  VALUES (v_parish_id, v_baptism_3_event_id, v_child_presentation_id, v_family_contact_id, v_coordinator_id, v_sponsor_1_id, v_sponsor_2_id, v_presider_id, 'ACTIVE', 'full-script-spanish', 'Bautismo en español. Ceremonia tradicional.')
  RETURNING id INTO v_baptism_3_id;

  -- Baptism 4: Emma Johnson
  INSERT INTO baptisms (parish_id, baptism_event_id, child_id, mother_id, father_id, sponsor_1_id, sponsor_2_id, presider_id, status, baptism_template_id, note)
  VALUES (v_parish_id, v_baptism_4_event_id, v_quinceanera_person_id, v_mother_id, v_father_id, v_first_reader_id, v_second_reader_id, v_presider_id, 'PLANNING', 'full-script-english', 'Scheduled for next month. Preparation in progress.')
  RETURNING id INTO v_baptism_4_id;

  RAISE NOTICE 'Created % baptism records', 4;

  -- ============================================================
  -- PRESENTATIONS: Create 4 fully populated presentation records
  -- ============================================================

  -- Presentation 1: Miguel Lopez
  INSERT INTO presentations (parish_id, presentation_event_id, child_id, mother_id, father_id, coordinator_id, is_baptized, status, note, presentation_template_id)
  VALUES (v_parish_id, v_presentation_1_event_id, v_child_presentation_id, v_mother_id, v_father_id, v_coordinator_id, false, 'ACTIVE', 'Presentación del Niño. Liturgia en español.', 'full-script-spanish')
  RETURNING id INTO v_presentation_1_id;

  -- Presentation 2: Ana Ramirez
  INSERT INTO presentations (parish_id, presentation_event_id, child_id, mother_id, father_id, coordinator_id, is_baptized, status, note, presentation_template_id)
  VALUES (v_parish_id, v_presentation_2_event_id, v_bride_id, v_groom_id, v_bride_2_id, v_coordinator_id, true, 'ACTIVE', 'Niña ya bautizada. Presentación especial.', 'full-script-spanish')
  RETURNING id INTO v_presentation_2_id;

  -- Presentation 3: Carlos Sanchez
  INSERT INTO presentations (parish_id, presentation_event_id, child_id, mother_id, father_id, coordinator_id, is_baptized, status, note, presentation_template_id)
  VALUES (v_parish_id, v_presentation_3_event_id, v_child_baptism_id, v_family_contact_id, v_deceased_id, v_coordinator_id, false, 'PLANNING', 'Preparación en proceso. Ceremonia privada.', 'full-script-spanish')
  RETURNING id INTO v_presentation_3_id;

  -- Presentation 4: Elena Rodriguez
  INSERT INTO presentations (parish_id, presentation_event_id, child_id, mother_id, father_id, coordinator_id, is_baptized, status, note, presentation_template_id)
  VALUES (v_parish_id, v_presentation_4_event_id, v_quinceanera_person_id, v_sponsor_1_id, v_sponsor_2_id, v_coordinator_id, true, 'ACTIVE', 'Ceremonia elegante. Familia numerosa.', 'full-script-spanish')
  RETURNING id INTO v_presentation_4_id;

  RAISE NOTICE 'Created % presentation records', 4;

  -- ============================================================
  -- MASSES: Create 4 fully populated mass records
  -- ============================================================

  -- Mass 1: Sunday 10 AM
  INSERT INTO masses (parish_id, event_id, presider_id, homilist_id, liturgical_event_id, mass_roles_template_id, status, mass_template_id, announcements, note, petitions)
  VALUES (v_parish_id, v_mass_1_event_id, v_presider_id, v_homilist_id, v_liturgical_event_id, NULL, 'ACTIVE', 'sunday-mass-english', E'Welcome! Parish picnic next Sunday.', 'Children''s choir singing.', E'For Church leaders, we pray.')
  RETURNING id INTO v_mass_1_id;

  -- Mass 2: Sunday 8 AM
  INSERT INTO masses (parish_id, event_id, presider_id, homilist_id, liturgical_event_id, mass_roles_template_id, status, mass_template_id, announcements, note, petitions)
  VALUES (v_parish_id, v_mass_2_event_id, v_presider_id, v_homilist_id, v_liturgical_event_id, NULL, 'ACTIVE', 'sunday-mass-english', E'Early morning Mass. Coffee and donuts after.', 'Traditional liturgy.', E'For world peace, we pray.')
  RETURNING id INTO v_mass_2_id;

  -- Mass 3: Sunday 12 PM (Spanish)
  INSERT INTO masses (parish_id, event_id, presider_id, homilist_id, liturgical_event_id, mass_roles_template_id, status, mass_template_id, announcements, note, petitions)
  VALUES (v_parish_id, v_mass_3_event_id, v_presider_id, v_homilist_id, v_liturgical_event_id, NULL, 'PLANNING', 'sunday-mass-spanish', E'Bienvenidos. Retiro espiritual próximo fin de semana.', 'Misa en español. Coro hispano.', E'Por la paz, oremos al Señor.')
  RETURNING id INTO v_mass_3_id;

  -- Mass 4: Weekday Wednesday
  INSERT INTO masses (parish_id, event_id, presider_id, homilist_id, liturgical_event_id, mass_roles_template_id, status, mass_template_id, announcements, note, petitions)
  VALUES (v_parish_id, v_mass_4_event_id, v_presider_id, v_homilist_id, v_liturgical_event_id, NULL, 'ACTIVE', 'weekday-mass-english', E'Weekday morning Mass.', 'Simple liturgy. Small congregation.', E'For the sick, we pray.')
  RETURNING id INTO v_mass_4_id;

  RAISE NOTICE 'Created % mass records', 4;

  -- ============================================================
  -- MASS INTENTION: Create a mass intention linked to the mass
  -- ============================================================

  INSERT INTO mass_intentions (
    parish_id,
    mass_id,
    mass_offered_for,
    requested_by_id,
    date_received,
    date_requested,
    stipend_in_cents,
    status,
    note
  ) VALUES (
    v_parish_id,
    v_mass_1_id,
    'In memory of John White, beloved husband and father',
    v_requested_by_id,
    '2025-05-15',
    '2025-06-01',
    1000, -- $10.00 stipend
    'SCHEDULED',
    'Margaret White requests this mass for her late husband John, who passed away last year. She would like the intention announced during mass.'
  ) RETURNING id INTO v_mass_intention_id;

  RAISE NOTICE 'Created mass intention record: %', v_mass_intention_id;

  -- ============================================================
  -- SUMMARY
  -- ============================================================

  RAISE NOTICE '================================================================';
  RAISE NOTICE 'SEED DATA CREATION COMPLETE';
  RAISE NOTICE '================================================================';
  RAISE NOTICE 'Parish ID: %', v_parish_id;
  RAISE NOTICE '';
  RAISE NOTICE 'People created: 27';
  RAISE NOTICE 'Locations created: 3';
  RAISE NOTICE 'Events created: 30 total (6 general parish + 24 module-specific)';
  RAISE NOTICE 'Readings selected from existing parish readings (seeded via onboarding)';
  RAISE NOTICE '';
  RAISE NOTICE 'Module Records Created (4 of each type):';
  RAISE NOTICE '  - Weddings: 4';
  RAISE NOTICE '  - Funerals: 4';
  RAISE NOTICE '  - Quinceaneras: 4';
  RAISE NOTICE '  - Baptisms: 4';
  RAISE NOTICE '  - Presentations: 4';
  RAISE NOTICE '  - Masses: 4';
  RAISE NOTICE '  - Mass Intentions: 1';
  RAISE NOTICE '================================================================';

END $$;
